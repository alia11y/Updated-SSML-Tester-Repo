<!DOCTYPE html>
<html>
  <head>
	
	<!-- SSML Testing Tool v2.3 
			Author: Mark Hakkinen (mhakkinen@ets.org), Irfan Ali (iali@ets.org)
			Prior Modified: October 10, 2018 IA
			Last Modified: October 23, 2018 MH
			-->
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
	<title>ETS SSML Markup Tester v2.4</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">	
	<link rel="stylesheet" href="ssml.css">
	<script src="script.js"></script>
	
  </head>

  <body>
	 <div class="container"> 
    <h1>ETS SSML in HTML Markup Tester v2.7 (10/23/2018)</h1>
	<p><span id="instructions-section">Enter text</span> and then manually markup using the SSML data attribute format (described at:
		<a href="https://github.com/mhakkinen/SSMLinHTMLproposal">https://github.com/mhakkinen/SSMLinHTMLproposal</a>), by selecting the sample
		button below, or entering text,  then highlighting text, and selecting one of the SSML toolbar actions to be applied to the text.  The appropriate
		SSML JSON attribute will be added.  Once your text is ready, click the speak button.</p>
		<p>Your platform must have an speech synthesizer that supports SSML if you using Windows or other platforms with native SSML supporting synthesizers.
			If using MacOS, the JSON-ized SSML will be mapped to the Apple Speech markup.
		</p>
    <div>
	<button id="prosodyBTN" class="btn btn-info btn-xs">Prosody Fast</button> 
	<button id="prosodySlow" class="btn btn-warning btn-xs">Prosody slow</button> 
	<button id="strongVoice" class="btn btn-success btn-xs">Emphasis Strong</button>
	<button id="sayCardinal" class="btn btn-warning btn-xs">Say As Cardinal</button>
	<!--<button id="sayOrdinal" class="btn btn-default btn-xs">Say As Ordinal</button>-->
	<button id="sayChar" class="btn btn-info btn-xs">Say As Char</button>
	<button id="breakMedium" class="btn btn-warning btn-xs">Break</button>
	<button id="subAlias" class="btn btn-success btn-xs">Sub</button>
	
	
	<br>
	<textarea id="AuthoredText" class="form-control txt" aria-labeledby="instructions-section" rows="4" cols="50"></textarea>
	<br>
    
	</div>
	<div>
    	
		<button onclick="example1()" class="btn btn-primary btn-sm">JSON example 1</button>
		<button onclick="example2()" class="btn btn-primary btn-sm">JSON example 2</button>
		<button onclick="example3()" class="btn btn-primary btn-sm">Plain Text</button>
		<button onclick="clearText()" class="btn btn-danger btn-sm">Clear Text</button>
				
	</div>
	<div style="display:none;">
	<fieldset>
		<legend>Options for SSML markup</legend>
		<p>Some synthesizers may require wrapping the string with the &lt;speak&gt; 
		element, and some may require the <code>&lt;? xml ?&gt;</code> prefix.</p>
		<p>
			<span><label for="chkWrapSSML">Wrap text with SSML <code>&lt;speak&gt;</code>:</label>
			<input id="chkWrapSSML" type="checkbox" value="false"></span> 
			<span>
				&nbsp;<label for="chkXMLprefix">Prefix as XML:</label>
				<input id="chkXMLprefix" type="checkbox" value="false">
			</span>
		</p>
		
	</fieldset>

	<fieldset>
		<legend>Data-Attributes</legend>
		<p>
			<label for="chkDataAttr">Process data attribute encoded SSML:</label>
			<input id="chkDataAttr" type="checkbox" value="false">
		</p>
	</fieldset>

	<fieldset>
		<legend>Authoring content with JSON input atributes</legend>
		<p>
			<label for="chkJSONAttr">Process HTML with JSON to SSML:</label>
			<input id="chkJSONAttr" type="checkbox" value="false">
		</p>
	
	
	</fieldset>

</div>
	
	<fieldset>
	<legend>Speech Controls</legend>
    <p><button onclick="produceSpeech();" class="btn btn-primary">Start Reading</button> using
    <label for="synthesizerList">Synthesizer:</label>
   		<select id="synthesizerList"><option data-lang="en-US" data-name="Samantha">Samantha (en-US) -- DEFAULT</option><option data-lang="en-US" data-name="Agnes">Agnes (en-US)</option><option data-lang="en-US" data-name="Albert">Albert (en-US)</option><option data-lang="en-US" data-name="Alex">Alex (en-US)</option><option data-lang="it-IT" data-name="Alice">Alice (it-IT)</option><option data-lang="sv-SE" data-name="Alva">Alva (sv-SE)</option><option data-lang="fr-CA" data-name="Amelie">Amelie (fr-CA)</option><option data-lang="es-MX" data-name="Angelica">Angelica (es-MX)</option><option data-lang="de-DE" data-name="Anna">Anna (de-DE)</option><option data-lang="en-US" data-name="Bad News">Bad News (en-US)</option><option data-lang="en-US" data-name="Bahh">Bahh (en-US)</option><option data-lang="en-US" data-name="Bells">Bells (en-US)</option><option data-lang="en-US" data-name="Boing">Boing (en-US)</option><option data-lang="en-US" data-name="Bruce">Bruce (en-US)</option><option data-lang="en-US" data-name="Bubbles">Bubbles (en-US)</option><option data-lang="he-IL" data-name="Carmit">Carmit (he-IL)</option><option data-lang="en-US" data-name="Cellos">Cellos (en-US)</option><option data-lang="id-ID" data-name="Damayanti">Damayanti (id-ID)</option><option data-lang="en-GB" data-name="Daniel">Daniel (en-GB)</option><option data-lang="en-US" data-name="Deranged">Deranged (en-US)</option><option data-lang="es-AR" data-name="Diego">Diego (es-AR)</option><option data-lang="nl-BE" data-name="Ellen">Ellen (nl-BE)</option><option data-lang="en" data-name="Fiona">Fiona (en)</option><option data-lang="en-US" data-name="Fred">Fred (en-US)</option><option data-lang="en-US" data-name="Good News">Good News (en-US)</option><option data-lang="en-US" data-name="Hysterical">Hysterical (en-US)</option><option data-lang="ro-RO" data-name="Ioana">Ioana (ro-RO)</option><option data-lang="pt-PT" data-name="Joana">Joana (pt-PT)</option><option data-lang="es-ES" data-name="Jorge">Jorge (es-ES)</option><option data-lang="es-MX" data-name="Juan">Juan (es-MX)</option><option data-lang="en-US" data-name="Junior">Junior (en-US)</option><option data-lang="th-TH" data-name="Kanya">Kanya (th-TH)</option><option data-lang="en-AU" data-name="Karen">Karen (en-AU)</option><option data-lang="en-US" data-name="Kathy">Kathy (en-US)</option><option data-lang="ja-JP" data-name="Kyoko">Kyoko (ja-JP)</option><option data-lang="sk-SK" data-name="Laura">Laura (sk-SK)</option><option data-lang="hi-IN" data-name="Lekha">Lekha (hi-IN)</option><option data-lang="it-IT" data-name="Luca">Luca (it-IT)</option><option data-lang="pt-BR" data-name="Luciana">Luciana (pt-BR)</option><option data-lang="ar-SA" data-name="Maged">Maged (ar-SA)</option><option data-lang="hu-HU" data-name="Mariska">Mariska (hu-HU)</option><option data-lang="zh-TW" data-name="Mei-Jia">Mei-Jia (zh-TW)</option><option data-lang="el-GR" data-name="Melina">Melina (el-GR)</option><option data-lang="ru-RU" data-name="Milena">Milena (ru-RU)</option><option data-lang="en-IE" data-name="Moira">Moira (en-IE)</option><option data-lang="es-ES" data-name="Monica">Monica (es-ES)</option><option data-lang="nb-NO" data-name="Nora">Nora (nb-NO)</option><option data-lang="es-MX" data-name="Paulina">Paulina (es-MX)</option><option data-lang="en-US" data-name="Pipe Organ">Pipe Organ (en-US)</option><option data-lang="en-US" data-name="Princess">Princess (en-US)</option><option data-lang="en-US" data-name="Ralph">Ralph (en-US)</option><option data-lang="da-DK" data-name="Sara">Sara (da-DK)</option><option data-lang="fi-FI" data-name="Satu">Satu (fi-FI)</option><option data-lang="zh-HK" data-name="Sin-ji">Sin-ji (zh-HK)</option><option data-lang="en-ZA" data-name="Tessa">Tessa (en-ZA)</option><option data-lang="fr-FR" data-name="Thomas">Thomas (fr-FR)</option><option data-lang="zh-CN" data-name="Ting-Ting">Ting-Ting (zh-CN)</option><option data-lang="en-US" data-name="Trinoids">Trinoids (en-US)</option><option data-lang="en-IN" data-name="Veena">Veena (en-IN)</option><option data-lang="en-US" data-name="Vicki">Vicki (en-US)</option><option data-lang="en-US" data-name="Victoria">Victoria (en-US)</option><option data-lang="en-US" data-name="Whisper">Whisper (en-US)</option><option data-lang="nl-NL" data-name="Xander">Xander (nl-NL)</option><option data-lang="tr-TR" data-name="Yelda">Yelda (tr-TR)</option><option data-lang="ko-KR" data-name="Yuna">Yuna (ko-KR)</option><option data-lang="ru-RU" data-name="Yuri">Yuri (ru-RU)</option><option data-lang="en-US" data-name="Zarvox">Zarvox (en-US)</option><option data-lang="pl-PL" data-name="Zosia">Zosia (pl-PL)</option><option data-lang="cs-CZ" data-name="Zuzana">Zuzana (cs-CZ)</option><option data-lang="de-DE" data-name="Google Deutsch">Google Deutsch (de-DE)</option><option data-lang="en-US" data-name="Google US English">Google US English (en-US)</option><option data-lang="en-GB" data-name="Google UK English Female">Google UK English Female (en-GB)</option><option data-lang="en-GB" data-name="Google UK English Male">Google UK English Male (en-GB)</option><option data-lang="es-ES" data-name="Google español">Google español (es-ES)</option><option data-lang="es-US" data-name="Google español de Estados Unidos">Google español de Estados Unidos (es-US)</option><option data-lang="fr-FR" data-name="Google français">Google français (fr-FR)</option><option data-lang="hi-IN" data-name="Google हिन्दी">Google हिन्दी (hi-IN)</option><option data-lang="id-ID" data-name="Google Bahasa Indonesia">Google Bahasa Indonesia (id-ID)</option><option data-lang="it-IT" data-name="Google italiano">Google italiano (it-IT)</option><option data-lang="ja-JP" data-name="Google 日本語">Google 日本語 (ja-JP)</option><option data-lang="ko-KR" data-name="Google 한국의">Google 한국의 (ko-KR)</option><option data-lang="nl-NL" data-name="Google Nederlands">Google Nederlands (nl-NL)</option><option data-lang="pl-PL" data-name="Google polski">Google polski (pl-PL)</option><option data-lang="pt-BR" data-name="Google português do Brasil">Google português do Brasil (pt-BR)</option><option data-lang="ru-RU" data-name="Google русский">Google русский (ru-RU)</option><option data-lang="zh-CN" data-name="Google 普通话（中国大陆）">Google&nbsp;普通话（中国大陆） (zh-CN)</option><option data-lang="zh-HK" data-name="Google 粤語（香港）">Google&nbsp;粤語（香港） (zh-HK)</option><option data-lang="zh-TW" data-name="Google 國語（臺灣）">Google 國語（臺灣） (zh-TW)</option></select>
	
		   <!-- button to stop speech synth -->
		   <button id="stopButton" class="btn btn-danger">Stop Reading</button>
		
	</p>
	</fieldset>
	
    <fieldset>
    	<legend>
    		Visual Scratch Pad for processed text
		</legend>
		<div>Generated String to be synthesized (specific to platform: MacSpeech markup or SSML:</div>
		<div class="codebox" id="pstruct"></div>
		<div>JSON-ized SSML the above was generate from:</div>
        <div class="codebox" id="result"></div>
     	
	</fieldset>
	
    <script src="script-mac.js"></script>
	<!-- container for platform information -->
	<p id="platform">User Agent: Chrome 69 on MacIntel</p>
	<footer>Questions or comments to <a href="emailto:mhakkinen@ets.org">Mark Hakkinen</a> or <a href="emailto:iali@ets.org">Irfan Ali</a> </footer>

</div>	
<script type="text/javascript">
	var browserInfo = getBrowserInfo();
	document.getElementById("platform").innerHTML = "User Agent: " + browserInfo + " on "+ navigator.platform;
	


	function example1()
		{document.getElementById('AuthoredText').value="I am now <span data-ssml='{\"prosody\" : {\"rate\":\"x-fast\"}}'>speaking very fast</span> and now <span data-ssml='{\"break\": {\"strength\":\"strong\"}}'></span> at a normal rate. Now I am speaking <span data-ssml='{\"prosody\" : {\"rate\":\"slow\"}}'>very slow</span>.  If text is bolded <span data-ssml='{\"emphasis\" : {\"level\":\"strong\"}}'>it should be spoken with emphasis!</span>.  <span data-ssml='{\"say-as\" : {\"interpret-as\":\"cardinal\"}}'>80302</span> is large number while <span data-ssml='{\"say-as\" : {\"interpret-as\":\"cardinal\"}}'>80302</span> is also a zip code.";
			document.getElementById('chkJSONAttr').checked=true;

	}

	function example2()
		{document.getElementById('AuthoredText').value="He was born in <span data-ssml='{\"break\": {\"strength\":\"strong\"}}'></span> <span data-ssml='{\"say-as\": {\"interpret-as\":\"cardinal\"}}'><span data-ssml='{\"emphasis\" : {\"level\":\"strong\"}}'>1875</span></span> or <span data-ssml='{\"say-as\": {\"interpret-as\":\"characters\"}}'>1875</span>. Students were told to read one book before bed. My daughter <span data-ssml='{\"sub\": {\"alias\":\"red\"}}'>read</span> two, not just one. I need a little <span data-ssml='{\"break\": {\"strength\":\"weak\"}}'></span>break before I jump to another example. <span data-ssml='{\"sub\": {\"alias\":\"World Wide Web Consortium\"}}'>W3C</span> should have <span data-ssml='{\"sub\": {\"alias\":\"Speech Synthesis Markup Language\"}}'>SSML</span> support in HTML.";
			document.getElementById('chkJSONAttr').checked=true;

	}

	function example3()
		{document.getElementById('AuthoredText').value="The objective of the Spoken Presentation Task Force is to develop normative specifications and best practices 18789 guidance collaborating with other W3C groups as appropriate, to provide for proper pronunciation in HTML content when using text to speech (TTS) synthesis. SSML is actually more than just an exercise in floccinaucinihilipilification. in the following sequence of numbers, what would be the next number to occupy the blank: 111, 222, 333, --- ";
			document.getElementById('chkJSONAttr').checked=true;

	}
		
	function clearText() {
        document.getElementById("AuthoredText").value = "";
    }
	
</script>

	 </div>

</body>
</html>